-- 테이블, 시퀀스 삭제 및 생성
DROP TABLE CUSTOMER;
DROP TABLE CUS_LEVEL;
DROP SEQUENCE CUS_NO_SQ;
 
CREATE TABLE  CUS_LEVEL (
    LEVELNO NUMBER(2) NOT NULL,
    LEVELNAME VARCHAR2(30) NOT NULL,
    MONEY NUMBER(9,0),
    MONEY2 NUMBER(9,0),
    PRIMARY KEY (LEVELNO)
);

CREATE TABLE  CUSTOMER(
    CNO NUMBER(2) NOT NULL,
    CNAME VARCHAR2(50),
    PHONE VARCHAR2(50),
    POINT NUMBER(9,0) DEFAULT 1000,
    AMOUNT NUMBER(9,0) DEFAULT 0,
    LEVELNO NUMBER(2) DEFAULT 1 NOT NULL,
    PRIMARY KEY (CNO),
    FOREIGN KEY (LEVELNO) REFERENCES CUS_LEVEL (LEVELNO)
);

CREATE SEQUENCE CUS_NO_SQ
    START WITH 1
    INCREMENT BY 1
    MAXVALUE 99
    MINVALUE 1
    NOCACHE
    NOCYCLE;
    
-- 더미데이터 insert

INSERT INTO CUS_LEVEL VALUES (1, 'BRONZE', 0, 999999);
INSERT INTO CUS_LEVEL VALUES (2, 'SILVER', 1000000, 1999999);
INSERT INTO CUS_LEVEL VALUES (3, 'GOLD', 2000000, 2999999);
INSERT INTO CUS_LEVEL VALUES (4, 'VIP', 3000000, 4999999);
INSERT INTO CUS_LEVEL VALUES (5, 'VVIP', 5000000, 999999999);
COMMIT;

INSERT INTO CUSTOMER VALUES (CUS_NO_SQ.NEXTVAL, '홍길동', '010-9999-9999', 1000, 0, 1);
INSERT INTO CUSTOMER VALUES (CUS_NO_SQ.NEXTVAL, '강길동', '010-5555-5555', 1000, 0, 1);
INSERT INTO CUSTOMER VALUES (CUS_NO_SQ.NEXTVAL, '박길동', '010-2222-2222', 1000, 4999998, 4);




SELECT * FROM CUS_LEVEL;
SELECT * FROM CUSTOMER;
COMMIT;
ROLLBACK;
 
 
 
 
 
 